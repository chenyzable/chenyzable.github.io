<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>文档标题</title>
</head>
 
<body>
  <button id="reqDevice">request devices</button/>
  <button id="getDevice">get devices</button/>
  <script>
let reqDevice = document.getElementById('reqDevice')
let getDevice = document.getElementById('getDevice')

reqDevice.addEventListener('click',()=>{
navigator.bluetooth.requestDevice({
    acceptAllDevices: true
  })
  .then(device => {
    alert('连接成功！设备名称：', device.name);
    // 连接设备后，可以执行其他操作，如读取设备特征的值
  })
  .catch(error => {
    alert('连接失败：', error.message);
  });
})
getDevice.addEventListener('click',()=>{
 try {
  navigator.bluetooth.getDevices()
  .then(device => {
    alter('getDevices()：', device);
  })
  .catch(error => {
    alter('获取失败：', error.message);
  });
 } catch (error) {
  alert(error.message)
 }

})
</script/>
</body>
 
</html>
